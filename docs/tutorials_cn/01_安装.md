# 01 安装（快速）

## 依赖
- C++17 编译器（GCC/Clang/ICC）
- CMake 3.12+
- BLAS/LAPACK（x86 推荐 MKL，Arm64 推荐 OpenBLAS）（测试和后续使用需）
- MPI（OpenMPI/MPICH/IntelMPI）（测试和后续使用需）
- 可选：CUDA 11.0+（GPU 加速，测试和后续使用需）、GoogleTest（构建测试，仅测试需）

## 一次性安装
```bash
git clone https://github.com/QuantumLiquids/TensorToolkit.git
cd TensorToolkit && mkdir build && cd build
cmake .. -DCMAKE_INSTALL_PREFIX=$HOME/.local
make -j$(sysctl -n hw.ncpu 2>/dev/null || nproc)
make install
```

默认会编译并安装内置 `external/hptt`。若你已有外部 HPTT，可加：`-DQLTEN_COMPILE_HPTT_LIB=OFF`。

## 可选：构建并运行测试
```bash
cmake .. -DQLTEN_BUILD_UNITTEST=ON -DGTest_DIR=/path/to/googletest
make -j$(sysctl -n hw.ncpu 2>/dev/null || nproc)
ctest --output-on-failure
```

常用 CMake 选项：`QLTEN_USE_GPU`、`QLTEN_BUILD_EXAMPLES`、`QLTEN_TIMING_MODE`、`QLTEN_MPI_TIMING_MODE`。

> macOS 无 OpenMP 的 clang：通过 Homebrew 安装 `llvm` 并在 CMake 配置时指定 `CC/CXX` 到 `/opt/homebrew/opt/llvm/bin/clang++`。
